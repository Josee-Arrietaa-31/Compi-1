// Programa de ejemplo 1 - Configuración básica de chip
// Declaración de procedimientos y método main

proc configurar_pin(int pin, int modo) {
    int registro = 0xFF00;
    registro = registro | pin;
    registro = registro & modo;
    return registro;
}

proc leer_sensor(int puerto) {
    int valor = 0;
    valor = puerto << 2;
    valor = valor >> 1;
    return valor;
}

proc main() {
    // Declaración de variables
    int pin1 = 13;
    int pin2 = 7;
    float temperatura = 25.5;
    bool activo = true;
    char codigo = 'A';
    string mensaje = "Iniciando sistema";
    
    // Operaciones aritméticas
    int resultado = (pin1 + pin2) * 2;
    resultado = resultado / 4;
    resultado = resultado % 3;
    
    // Operaciones lógicas y relacionales
    if (pin1 > pin2 && activo) {
        temperatura = temperatura + 1.5;
    } else {
        temperatura = temperatura - 0.5;
    }
    
    // Bucles
    int contador = 0;
    while (contador < 10) {
        contador = contador + 1;
        
        if (contador == 5) {
            break;
        }
    }
    
    // For loop
    int i = 0;
    for (i = 0; i < 5; i = i + 1) {
        resultado = resultado + i;
    }
    
    // Switch case
    switch (pin1) {
        case 10:
            resultado = 100;
            break;
        case 13:
            resultado = 130;
            break;
        default:
            resultado = 0;
    }
    
    // Operaciones de bits
    int mascara = 0xFF;
    int binario = 0b11110000;
    int hex = 0xABCD;
    
    mascara = mascara & binario;
    mascara = mascara | hex;
    mascara = mascara ^ 0x0F;
    mascara = ~mascara;
    
    // Llamadas a procedimientos
    int config = configurar_pin(pin1, 0b0011);
    int lectura = leer_sensor(pin2);
    
    // Do-while
    do {
        lectura = lectura + 1;
    } while (lectura < 100);
    
    return 0;
}
